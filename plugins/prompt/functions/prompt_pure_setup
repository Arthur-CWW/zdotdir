0=${(%):-%x}

fpath+=(${0:A:h:h:h}/.external/sindresorhus/pure)
source ${0:A:h:h:h}/.external/sindresorhus/pure/pure.zsh

# show exit code on right
function precmd_pipestatus {
  local exitcodes="${(j.|.)pipestatus}"
  if [[ "$exitcodes" != "0" ]]; then
    RPROMPT="%F{$prompt_pure_colors[prompt:error]}[$exitcodes]%f"
  else
    RPROMPT=
  fi
}
add-zsh-hook precmd precmd_pipestatus

# use 2 space indent for each new level
PS2='${${${(%):-%_}//[^ ]}// /  }    '

# vim: ft=zsh sw=2 ts=2 et
